<!DOCTYPE html>
<html lang="en">
  <style>
    /* Base variables for consistent styling */
    :root {
      --primary: #3b82f6;
      --primary-hover: #2563eb;
      --primary-light: #dbeafe;
      --danger: #ef4444;
      --danger-hover: #dc2626;
      --danger-light: #fee2e2;
      --neutral-50: #f8fafc;
      --neutral-100: #f1f5f9;
      --neutral-200: #e2e8f0;
      --neutral-300: #cbd5e1;
      --neutral-400: #94a3b8;
      --neutral-500: #64748b;
      --neutral-600: #475569;
      --neutral-700: #334155;
      --neutral-800: #1e293b;
      --neutral-900: #0f172a;
      --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
      --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
        0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-md: 0 10px 15px -3px rgba(0, 0, 0, 0.1),
        0 4px 6px -2px rgba(0, 0, 0, 0.05);
      --radius-sm: 0.25rem;
      --radius: 0.5rem;
      --radius-md: 0.75rem;
      --transition: all 0.2s ease;
    }

    /* Race item row styling */
    .race-item {
      width: 100%;
      display: flex;
      flex-direction: row;
      align-items: center;
      padding: 0.5rem 0;
      border-bottom: 1px solid var(--neutral-200);
      transition: var(--transition);
      position: relative;
    }

    .race-item:hover {
      background-color: var(--neutral-100);
    }

    .race-item:last-child {
      border-bottom: none;
    }

    /* Column styling */
    .race-item > * {
      flex: 1;
      padding: 1rem 1.25rem;
      color: var(--neutral-700);
    }

    /* Race ID column */
    .race-item .race-id {
      font-weight: 600;
      color: var(--neutral-800);
    }

    /* Race name column */
    .race-item .race-name {
      font-weight: 500;
      color: var(--neutral-800);
    }

    /* Race status column */
    .race-item .race-status {
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      padding: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      border-radius: 0.5rem;
    }

    .race-item .race-status.ongoing {
      background-color: #dcfce7;
      color: #166534;
    }

    .race-item .race-status.ended {
      background-color: #dbeafe;
      color: #1e40af;
    }

    /* Race date column */
    .race-item .race-date {
      color: var(--neutral-600);
    }

    /* Actions column */
    .race-item .actions {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 0;
      position: relative;
    }

    /* Action button styling */
    .race-item .actions .view-actions {
      border: none;
      background: transparent;
      color: var(--neutral-500);
      width: 2.5rem;
      height: 2.5rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: var(--transition);
      padding: 0;
    }

    .race-item .actions .view-actions:hover {
      background-color: var(--neutral-200);
      color: var(--neutral-800);
    }

    .race-item .actions .view-actions:focus-visible {
      outline: none;
      box-shadow: 0 0 0 2px var(--primary-light), 0 0 0 4px var(--primary);
    }

    .race-item .actions .view-actions svg {
      width: 1.25rem;
      height: 1.25rem;
      stroke-width: 2.5;
    }

    /* Actions dialog/dropdown styling */
    #actions-dialog {
      position: absolute;
      top: calc(100% + 0.5rem);
      right: 1.5rem;
      border-radius: var(--radius);
      overflow: hidden;
      padding: 0.5rem;
      margin: 0;
      border: none;
      background-color: white;
      box-shadow: var(--shadow-md);
      width: 12rem;
      z-index: 10;
    }

    #actions-dialog::backdrop {
      background-color: transparent;
    }

    #actions-dialog > div {
      display: flex;
      width: 100%;
      gap: 0.25rem;
      flex-direction: column;
    }

    /* Action buttons in dropdown */
    #actions-dialog > div > button {
      width: 100%;
      border: none;
      outline: none;
      font-size: 0.9375rem;
      text-align: left;
      font-weight: 500;
      border-radius: var(--radius-sm);
      padding: 0.625rem 0.75rem;
      background: transparent;
      color: var(--neutral-700);
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    #actions-dialog > div > button:hover {
      background-color: var(--neutral-100);
    }

    #actions-dialog > div > button:focus-visible {
      outline: none;
      background-color: var(--neutral-100);
    }

    /* View result button */
    #actions-dialog > div > button.view-result-button {
      color: var(--primary);
    }

    #actions-dialog > div > button.view-result-button:hover {
      background-color: var(--primary-light);
    }

    /* Manage timer button */
    #actions-dialog > div > button.manage-timer {
      color: var(--neutral-800);
    }

    /* Delete button */
    #actions-dialog > div > button.delete-item-button {
      color: var(--danger);
    }

    #actions-dialog > div > button.delete-item-button:hover {
      background-color: var(--danger-light);
    }

    /* Icons for action buttons */
    #actions-dialog > div > button::before {
      content: "";
      width: 1rem;
      height: 1rem;
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
    }

    #actions-dialog > div > button.view-result-button::before {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%233b82f6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z'%3E%3C/path%3E%3Cpath d='M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z'%3E%3C/path%3E%3C/svg%3E");
    }

    #actions-dialog > div > button.manage-timer::before {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%231e293b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'%3E%3C/circle%3E%3Cpolyline points='12 6 12 12 16 14'%3E%3C/polyline%3E%3C/svg%3E");
    }

    #actions-dialog > div > button.delete-item-button::before {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='%23ef4444' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M3 6h18'%3E%3C/path%3E%3Cpath d='M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6'%3E%3C/path%3E%3Cpath d='M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2'%3E%3C/path%3E%3Cline x1='10' y1='11' x2='10' y2='17'%3E%3C/line%3E%3Cline x1='14' y1='11' x2='14' y2='17'%3E%3C/line%3E%3C/svg%3E");
    }

    /* Utility class */
    .hidden {
      display: none !important;
    }

    /* Responsive adjustments */
    @media (max-width: 640px) {
      .race-item {
        padding: 0.5rem 0;
      }

      .race-item > * {
        padding: 0.5rem;
      }
    }
  </style>

  <template id="race-item-template">
    <div class="race-item">
      <span class="race-id"></span>
      <span class="race-name"></span>
      <span class="race-status"> </span>
      <span class="race-date"></span>
      <div class="actions">
        <dialog id="actions-dialog">
          <div class="buttons">
            <button class="view-result-button hidden">View result</button>
            <button class="manage-timer hidden">Manage race</button>
            <button class="delete-item-button">Delete</button>
          </div>
        </dialog>
        <button class="view-actions" aria-label="More actions">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <circle cx="12" cy="12" r="1" />
            <circle cx="12" cy="5" r="1" />
            <circle cx="12" cy="19" r="1" />
          </svg>
        </button>
      </div>
    </div>
  </template>
</html>
